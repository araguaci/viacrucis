<div class="page-wrapper" tabindex="-1" role="main">
    {% if page.cover %}
        <img src="{{ page.cover }}"
             width="100%"
             height="{{ page.cover_height | default: '100%' }}"
             alt="{{ page.title | escape }}"
             style="object-fit: cover;"
        />
    {% endif %}

    <div class="page-inner">
        <div id="book-search-results">
            <div class="search-noresults">
                <section class="normal markdown-section">
                    {% if page.title %}
                        <h1 id="{{ page.id }}">{{ page.title | escape }}</h1>
                    {% else %}
                        <h1 id="{{ page.id }}">{{ site.title | escape }}</h1>
                    {% endif %}

                    {{ content }}

                    {%- if jekyll.environment != 'dev' and site.disqushandler -%}
                        {%- include disqus.html -%}
                    {%- endif -%}
                </section>
            </div>
            {% if page_prev_chapter or page_next_chapter %}
            <div class="chapter-pager">
          
              {% if page_next_chapter %}
                {% if page_next_chapter_is_part_index %}
                  {% assign next_title = page_next_part_label %}
                {% else %}
                  {% assign next_title = page_next_chapter.title %}
                {% endif %}
                <a
                  href="{{site.baseurl}}{{ page_next_chapter.url }}"
                  class="chapter-next {% unless page_prev_chapter %}pager-unique{% endunless %}"
                  aria-label="Next page: {{ next_title | escape }}"
                  data-level="1.1"
                  data-path="{{site.baseurl}}{{ page_next_chapter.url }}">
                  <div class="pager-arrow">
                    <i class="fa fa-arrow-right"></i>
                  </div>
                  <div class="pager-labels">
                    <div class="part">
                      Next:
                      {% if page_next_chapter_is_part_index %}
                        Part {{ page_next_part_num }}.
                      {% else %}
                        {% if page_next_part_label %}
                          {{ page_next_part_label }}
                          {% if page_next_chapter_num %} &#8250;{% endif %}
                        {% endif %}
                        {% if page_next_chapter_num %}Chapter {{ page_next_chapter_num }}.{% endif %}
                      {% endif %}
                    </div>
                    <div class="chapter-label">
                      {{ next_title | escape }}
                    </div>
                  </div>
                </a>
              {% endif %}
          
              {% if page_prev_chapter %}
                {% if page_prev_chapter_is_part_index %}
                  {% assign prev_title = page_prev_part_label %}
                {% else %}
                  {% assign prev_title = page_prev_chapter.title %}
                {% endif %}
                <a
                  href="{{site.baseurl}}{{ page_prev_chapter.url }}"
                  class="chapter-prev {% unless page_next_chapter %}pager-unique{% endunless %}"
                  aria-label="Previous page: {{ prev_title | escape }}"
                  data-level="1.1"
                  data-path="{{site.baseurl}}{{ page_prev_chapter.url }}">
                  <div class="pager-arrow">
                    <i class="fa fa-arrow-left"></i>
                  </div>
                  <div class="pager-labels">
                    <div class="part">
                      Previous:
                      {% if page_prev_chapter_is_part_index %}
                        Part {{ page_prev_part_num }}.
                      {% else %}
                        {% if page_prev_part_label %}
                          {{ page_prev_part_label }}
                          {% if page_prev_chapter_num %}&#8250;{% endif %}
                        {% endif %}
                        {% if page_prev_chapter_num %}Chapter {{ page_prev_chapter_num }}.{% endif %}
                      {% endif %}
                    </div>
                    <div class="chapter-label">
                      {{ prev_title | escape }}
                    </div>
                  </div>
                </a>
              {% endif %}
          
              <div style="clear: both;"></div>
            </div>
            <!-- .chapter-pager -->
          {% endif %}
            {%- include search.html -%}
        </div>
    </div>
</div>

<!-- introduce mathjax support -->
{% include mathjax.html %}

<!-- introduce per-page mermaid support -->
{% if page.mermaid %}
    {% include mermaid.html %}
{% endif %}

<!-- introduce mathjax support -->
{% include fixes-chrome-anchors.html %}
