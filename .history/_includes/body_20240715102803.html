<div class="page-wrapper" tabindex="-1" role="main">
    {% if page.cover %}
        <img src="{{ page.cover }}"
             width="100%"
             height="{{ page.cover_height | default: '100%' }}"
             alt="{{ page.title | escape }}"
             style="object-fit: cover;"
        />
    {% endif %}

    <div class="page-inner">
        <div id="book-search-results">
            <div class="search-noresults">
                <section class="normal markdown-section">
                    {% if page.title %}
                        <h1 id="{{ page.id }}">{{ page.title | escape }}</h1>
                    {% else %}
                        <h1 id="{{ page.id }}">{{ site.title | escape }}</h1>
                    {% endif %}

                    {{ content }}

                    {%- if jekyll.environment != 'dev' and site.disqushandler -%}
                        {%- include disqus.html -%}
                    {%- endif -%}
                </section>
            </div>
            <div id="post-nav" class="clearfix">
                {% if page.previous.url %}
                <a class="prev" href="{{page.previous.url}}"
                  >&laquo; {{page.previous.title}}</a
                >
                {% endif %} {% if page.next.url %}
                <a class="next" href="{{page.next.url}}">{{page.next.title}} &raquo;</a>
                {% endif %}
            </div>
            <div style="clear: both;"></div>
            
            {%- include search.html -%}
        </div>
    </div>
    
    <div class="page-footer">
      {% include footer-extra.html %}

      {% if site.bottom_nav %}
        <div class="bottom-nav">
          {% for item in site.bottom_nav %}
            {% unless forloop.first %}
              -
            {% endunless %}
            {% assign item_url = item.url %}
            {% assign starts_with = item_url | slice: 0, 4 %}
            {% if starts_with != "http" %}
              {% assign item_url = item_url | prepend: site.baseurl %}{% endif %}
            <a href="{{ item_url }}">
              {{ item.label }}
            </a>
          {% endfor %}
        </div>
      {% endif %}

      {% if site.copyright %}
        <div class="copyright">
          {% assign latest_year = "now" | date: "%Y" %}
          {% capture copyright_start_year %}
            {{ site.copyright.start_year }}{% endcapture %}
          {% if site.copyright.url %}
            <a href="{{ site.baseurl }}{{ site.copyright.url }}">
          {% endif %}
          &copy;
          {% if copyright_start_year and copyright_start_year != latest_year %}
            {{ copyright_start_year }}-{% endif %}
          {{ latest_year }}
          {{ site.author }}
          {% if site.copyright.url %}
            </a>
          {% endif %}
        </div>
      {% endif %}
        <div>
          <p>
            <script
              async
              src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"
            />
            <i className="fa-solid fa-user" />
            <span id="busuanzi_value_site_uv" />
            &nbsp;|&nbsp;
            <i className="fa-solid fa-eye" />
            <span id="busuanzi_value_site_pv" />
          </p>
        </div>
      </div>      
</div>

<!-- introduce mathjax support -->
{% include mathjax.html %}

<!-- introduce per-page mermaid support -->
{% if page.mermaid %}
    {% include mermaid.html %}
{% endif %}

<!-- introduce mathjax support -->
{% include fixes-chrome-anchors.html %}
